// Package urlhelper ; CODE GENERATED BY goframe; DO NOT EDIT.
package urlhelper

import (
    "fmt"
    "net/url"
    "strings"
)

{{- range .Helpers }}
type {{ .Name }}Params struct {
{{- if eq (len .Params) 0 }}
    // no params
{{- else }}
{{- range .Params }}
    {{ .FieldName }} {{ .Type }} // {{ .Comment }}
{{- end }}
{{- end }}
}

func {{ .Name }}(p {{ .Name }}Params) string {
    path := "{{ .Path }}"
{{- range .PathParams }}
    path = strings.ReplaceAll(path, {{"{"}}{{ .TagName }}{{"}"}}, fmt.Sprintf("%v", p.{{ .FieldName }}))
{{- end }}
    q := url.Values{}
{{- range .QueryParams }}
    q.Set("{{ .TagName }}", fmt.Sprintf("%v", p.{{ .FieldName }}))
{{- end }}
    if len(q) > 0 {
        path += "?" + q.Encode()
    }
    return path
}

{{ end }}
