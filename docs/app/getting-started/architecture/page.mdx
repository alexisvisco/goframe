---
title: Architecture
description: Understanding GoFrame's project structure and clean architecture patterns
---

import { FileTree } from 'nextra/components'


# Architecture

Let's look about what the cli generate when you run the `goframe init` command.

## Project structure

<FileTree>
	<FileTree.Folder name="bin" defaultOpen>
		<FileTree.File name="goframe" />
		<FileTree.File name="mjml" />
	</FileTree.Folder>
	<FileTree.Folder name="cmd" defaultOpen>
		<FileTree.Folder name="app">
			<FileTree.File name="main.go" />
		</FileTree.Folder>
		<FileTree.Folder name="cli">
			<FileTree.File name="main.go" />
		</FileTree.Folder>
	</FileTree.Folder>
	<FileTree.Folder name="config" defaultOpen>
		<FileTree.File name="config.go" />
		<FileTree.File name="config.yml" />
		<FileTree.Folder name="i18n">
			<FileTree.File name="en.yml" />
			<FileTree.File name="fr.yml" />
		</FileTree.Folder>
	</FileTree.Folder>
	<FileTree.Folder name="db" defaultOpen>
		<FileTree.Folder name="dbutil">
			<FileTree.File name="dbutil.go" />
		</FileTree.Folder>
		<FileTree.Folder name="migrations">
			<FileTree.File name="20250613122558_create_storage_table.sql" />
		</FileTree.Folder>
		<FileTree.Folder name="seeds">

		</FileTree.Folder>
		<FileTree.File name="migrations.go" />
		<FileTree.File name="seeds.go" />
	</FileTree.Folder>
	<FileTree.Folder name="internal" defaultOpen>
		<FileTree.Folder name="app">
			<FileTree.File name="module.go" />
		</FileTree.Folder>
		<FileTree.Folder name="mailer">
			<FileTree.File name="registry.go" />
		</FileTree.Folder>
		<FileTree.Folder name="provide">
			<FileTree.File name="provide_cache.go" />
			<FileTree.File name="provide_db.go" />
			<FileTree.File name="provide_http.go" />
			<FileTree.File name="provide_storage.go" />
			<FileTree.File name="provide_worker.go" />
		</FileTree.Folder>
		<FileTree.Folder name="service">
			<FileTree.File name="registry.go" />
		</FileTree.Folder>
		<FileTree.Folder name="task">
		</FileTree.Folder>
		<FileTree.Folder name="v1handler">
			<FileTree.File name="registry.go" />
			<FileTree.File name="router.go" />
		</FileTree.Folder>
		<FileTree.Folder name="workflow">
			<FileTree.Folder name="activity" />
			<FileTree.File name="registry.go" />
			<FileTree.File name="workflow_send_email.go" />
		</FileTree.Folder>
	</FileTree.Folder>
	<FileTree.File name="Dockerfile" />
	<FileTree.File name="docker-compose.yaml" />
	<FileTree.File name="go.mod" />
	<FileTree.File name="go.sum" />
</FileTree>

GoFrame follows a clean architecture pattern with dependency injection using Uber's FX framework. The architecture is designed to be modular, testable, and maintainable, separating concerns into distinct layers.

## Detailed explanation

#### `bin/`

This directory contains helper binaries for running the GoFrame CLI on your project plus a MJML CLI to compile MJML templates into HTML.

#### `cmd/`

This directory contains the entry points for your application. The `app` folder contains the main application entry point, while the `cli` folder contains the CLI entry point that includes all generated commands and tasks.

Related : [CLI documentation](/docs/cli)

#### `config/`

This directory contains the configuration files for your application. The `config.go` file is used to load the configuration from the `config.yml` file.

Related : [Configuration documentation](/docs/configuration)

#### `config/i18n/`

YAML translations for every locale live here. The `bin/goframe i18n` commands generate a typed Go helper from these files, allowing for type-safe internationalization throughout your application.

Related : [I18n documentation](/docs/i18n)

#### `db/`

This directory contains database-related files:
- `migrations/` - Database migrations used to create and update the database schema  
- `seeds/` - Seed files used to populate the database with initial data
- `dbutil/` - Database utility functions and helpers
- `migrations.go` - Lists and manages all migrations
- `seeds.go` - Lists and manages all seed files

Related : [Database documentation](/docs/database)

#### `internal/app/module.go`

Defines the application dependencies that can be reused across various entrypoints (CLI, HTTP server, etc.). This file registers the application's structs with Uber's FX framework for dependency injection.

#### `internal/mailer/`

A mailer sends emails using MJML and TXT templates. Each mailer implements an interface so mocks can be used in tests. The mailer contains methods such as `SendWelcomeEmail`, `SendPasswordResetEmail`, etc. It integrates with the workflow system for async email sending.

You can generate mailers via the CLI using `bin/goframe generate mailer <mailer name> <mail name>`.

Related : [Mailer documentation](/docs/mails)

#### `internal/provide/`

This directory contains the dependency providers for the application. Each file defines a provider for a specific dependency:
- `provide_cache.go` - Cache providers and configuration
- `provide_db.go` - Database connection and configuration  
- `provide_http.go` - HTTP server setup and middleware
- `provide_storage.go` - File storage providers
- `provide_worker.go` - Background worker and workflow setup

Since this is code generated by the CLI, you can easily extend it to add your own providers.

#### `internal/service/`

This directory contains the service layer, which holds the business logic of the application. Services perform operations on data and interact with repositories and external services.

You can generate services using the CLI with `bin/goframe generate service <service name>`.

#### `internal/task/`

This directory contains CLI tasks that can be run via the command line. Tasks are useful for maintenance operations, data migration, cleanup jobs, etc.

You can generate tasks using the CLI with `bin/goframe generate task <task name>`.

Related : [Tasks documentation](/docs/tasks)

#### `internal/v1handler/`

This directory contains the HTTP handlers for the application. The `v1` prefix indicates API versioning - you can have multiple versions of your API (v1, v2, etc.).

- `registry.go` - Registers all handlers with the dependency injection system
- `router.go` - Defines HTTP routes and maps them to handler methods

You can generate handlers using `bin/goframe generate handler <handler name>` and add routes with `bin/goframe generate route <handler> <method>`.

Related : [HTTP server documentation](/docs/http-server)

#### `internal/workflow/`

This directory contains workflow definitions for long-running, durable processes. Workflows can be paused, resumed, and are fault-tolerant. They're ideal for complex business processes like order processing, email campaigns, or data pipelines.

- `activity/` - Individual workflow activities (atomic operations)
- `registry.go` - Registers workflows and activities with the worker
- `workflow_send_email.go` - Example email sending workflow

Uses Temporal as the workflow engine for reliability and scalability.

You can generate workflows using `bin/goframe generate workflow <workflow name> <activity name>...`.

Related : [Worker documentation](/docs/worker)